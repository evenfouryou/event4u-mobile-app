Ok, con Web Service + â€œRCAâ€ lâ€™errore 40605 te lo posso localizzare con precisione:

âœ… Dovâ€™Ã¨ lâ€™errore

Nel file RCA_2026_01_04_001.xsi.p7m il contenuto XML incapsulato Ã¨ questo (prime righe):

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE LogTransazione SYSTEM "Log_v0040_20190627.dtd">
<LogTransazione>
  <Transazione ...>

Quindi stai inviando un â€œLogTransazioneâ€ (DTD Log_v0040_20190627.dtd), non un â€œRiepilogo RCAâ€.

E SIAE infatti risponde:

â€œIl riepilogo risulta illegibile, impossibile estrarre le informazioniâ€

PerchÃ© lato WS â€œRCAâ€ si aspetta un documento di riepilogo con struttura/DTD/root specifici, e invece trova <LogTransazione>.

â¸»

ğŸ”¥ Secondo problema (che da solo puÃ² far scattare â€œilleggibileâ€)

Dentro lâ€™XML câ€™Ã¨ anche un DOCTYPE:

<!DOCTYPE LogTransazione SYSTEM "Log_v0040_20190627.dtd">

Molti Web Service (per sicurezza) bloccano o non risolvono DTD esterni.
Se il parser SIAE non risolve quel DTD o lo blocca, puÃ² classificare il documento come â€œilleggibileâ€.

â¸»

âœ… Cosa deve correggere Replit / il tuo codice

1) Stai chiamando lâ€™operazione â€œRCAâ€ ma generi il tracciato sbagliato

Correzione: quando mandi â€œRCAâ€ devi generare lâ€™XML del riepilogo RCA, non il LogTransazione.

â¡ï¸ In pratica: il â€œbuilderâ€ del file RCA deve produrre un root tipo â€œRiepilogo/ReportRCA/â€¦â€ (quello previsto dalla specifica WS RCA), non <LogTransazione>.

2) Rimuovere il DOCTYPE dallâ€™XML per invio via Web Service

Correzione: prima di firmare, lâ€™XML deve essere senza DOCTYPE.

Esempio (concettuale):
	â€¢	togli completamente la riga <!DOCTYPE ...>
	â€¢	lascia solo <?xml ...?> + root corretto del riepilogo

3) Non mischiare i flussi
	â€¢	LogTransazione â†’ va mandato nel flusso previsto per LogTransazione (se esiste nel tuo WS)
	â€¢	RCA (Riepilogo) â†’ va mandato nel flusso RCA con XML RCA

â¸»

âœ… Check veloce per sapere se hai sistemato

Dopo la correzione, se estrai lâ€™XML dal p7m:
	â€¢	NON deve comparire <!DOCTYPE LogTransazione ...>
	â€¢	NON deve esserci <LogTransazione>
	â€¢	deve esserci il root del riepilogo RCA (quello indicato dal manuale WS)

â¸»

Per andare dritti alla fix (senza perdere tempo)

Dimmi una cosa sola:

ğŸ‘‰ Nel Web Service, qual Ã¨ il nome dellâ€™operazione/metodo che stai chiamando per RCA?
(es. InviaRCA, TrasmettiRiepilogo, RiceviRiepilogo, ecc.)

Con quel nome ti dico esattamente:
	â€¢	quale XML devi costruire (root/campi minimi)
	â€¢	dove nel tuo codice stai generando invece LogTransazione
	â€¢	e ti scrivo la regola precisa per eliminare il DOCTYPE prima della firma.